from transformers import pipeline

# Пример расшифрованного текста — можешь вставить свой результат
transcribed_text = """
Здравствуйте! Здравствуйте! Моя кошечка пришла с болезнью в попе. У нее что-то чешется там. Расскажите, пожалуйста, поподробнее. Ставьте кошечку. Да, у кошки действительно проблемы. У нее болит попа. Возможно, это тромбоблазия. Ой, меня зовут Татьяна. У меня еще болит собака. У собаки еще червяк в копе тоже есть. Как зовут собаку? Собаку зовут Бабон. Вот у Бабона есть глист. Так, понятно. Значит, ваша собака Бабон тоже болит говном. Да, понятно. До свидания. До свидания. До свидания. Я доктор Федя Хуякин и я лучший врач в городе.
"""

# Модель для обобщения и понимания текста
summarizer = pipeline("summarization", model="IlyaGusev/rut5_small_sum_gazeta")

# Формулируем инструкцию для ИИ
prompt = f"""
Распредели информацию по разделам:

1. Жалобы
2. Анамнез
3. Диагноз
4. Назначения
5. Рекомендации

Текст:
{transcribed_text}
"""

# Выполняем обобщение и структурирование
summary = summarizer(prompt, max_length=512, min_length=100, do_sample=False)

print("\n--- Структурированный текст ---\n")
print(summary[0]['summary_text'])
